/*! tiled - v0.1.0 - 2014-05-13
* https://github.com/juan/tiled-js
* Copyright (c) 2014 Juan Pablo Pinilla Ossa; Licensed MIT */
!function(a){"use strict";function b(a){if(a=a||{},this.source=a.source,a.el){if(this.el=a.el instanceof HTMLElement?a.el:document.querySelector(a.el),"CANVAS"!==this.el.nodeName){var b=document.createElement("canvas");this.el.appendChild(b),this.el=b}c=this.el.getContext("2d")}}var c,d=document.createElement("img"),e={},f=function(){for(var a=e.layers,b=0,c=a.length;c>b;b++){var d=a[b];d.data&&g(d)}},g=function(a){for(var b=a.data,e=(a.width,0);b.length>e;e++);c.drawImage(d,0,0)};b.prototype.draw=function(){var a=this.source,b=a.tilesets[0],c=b.image;d.src=c,d.onload=f,e.bgImage=d,e.tileheight=a.tileheight,e.tilewidth=a.tilewidth,e.layers=a.layers},b.prototype.validate=function(){var a=this.source;if(!a)throw new Error("source is required, ex. new Tiled({source: source, el: el})");if("object"!=typeof a)throw new Error("source must be an object");if(!a.hasOwnProperty("layers")||!a.hasOwnProperty("orientation")||!a.hasOwnProperty("tilesets"))throw new Error("source must be a Tiled Map Editor valid json");this.el;if(!a)throw new Error("el is required, ex. new Tiled({source: source, el: el})")},a.Tiled=b}("object"==typeof exports&&exports||this);